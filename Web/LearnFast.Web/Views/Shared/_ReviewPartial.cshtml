@model LearnFast.Web.ViewModels.Review.ReviewListViewModel

@{
    this.ViewData["Style"] = "reviews.css";
}

<div class="reviews">
    @foreach (var review in Model.Reviews)
    {
        <div class="text-center review">
            @if (Model.CurrentUserId == review.User.Id && !Model.IsSelectedReviews)
            {
                <p class="d-inline">@review.User.FullName</p>
                <div class="text-end">
                    <span class="btn btn-info"><a>Edit</a></span>
                    <span>
                        <a class="btn btn-danger"
                            asp-area="" 
                           asp-action="Delete"
                           asp-route-reviewId="@review.Id"
                           asp-route-userId="@review.User.Id"
                           asp-route-courseId="@Model.CourseId">Delete</a>
                    </span>
                </div>
            }
            else
            {
                <p>@review.User.FullName</p>

            }
            <img class="avatar" src="@review.User.MainImageUrl" />
            <p>@review.Content</p>
            <div>
                <p>@review.CreatedOn</p>

                @for (int i = 1; i <= 6; i++)
                {
                    <span>
                        @if (i <= review.Rating)
                        {
                            <i class="bi bi-star-fill star"></i>
                        }
                        else
                        {
                            <i class="bi bi-star"></i>
                        }
                    </span>
                }
                <span>@review.Rating/6</span>
            </div>
        </div>
    }
    @if (!Model.IsSelectedReviews || Model.PagesCount > 1)
    {
        <div class="paging">
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                    @if (Model.HasPreviousPage)
                    {
                        <li class="page-item">
                            <a asp-area=""
                       asp-controller="Review"
                       asp-action="All"
                       asp-route-Page="@Model.PreviousPage"
                       asp-route-CourseId="@Model.CourseId">Previous</a>
                        </li>
                    }

                    @if (Model.HasNextPage)
                    {
                        <li class="page-item">
                            <a asp-area=""
                       asp-controller="Review"
                       asp-action="All"
                       asp-route-Page="@Model.NextPage"
                       asp-route-CourseId="@Model.CourseId">Next</a>
                        </li>
                    }
                </ul>
            </nav>
        </div>
    }
</div>