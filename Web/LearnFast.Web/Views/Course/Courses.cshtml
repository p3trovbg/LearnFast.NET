@model LearnFast.Web.ViewModels.Filter.FilterViewModel

@{
    this.ViewData["Title"] = "Courses";
    this.ViewData["Style"] = "courses.css";
}

<h1>@($"{Model.CategoryName} - {this.ViewData["Title"]}")</h1>
<hr />
<div class="container">
    <div class="filter-container">
        <h3>Filters </h3>
        <form asp-controller="Course" asp-action="Search" class="form-inline my-2 my-lg-0 search-form" method="get">
            <input asp-for="SearchString" class="form-control mr-sm-2" type="search" placeholder="Search">
            <button class="btn btn-outline-success col-6" type="submit">Search</button>
            <div>
                <hr />
                <div>
                    <h5>Price</h5>
                    <span>From</span>
                    <input asp-for="InitialPrice" class="price form-control" type="number">
                    <br />
                    <span>To</span>
                    <input asp-for="FinalPrice" class="price form-control" type="number">
                </div>
                <div class="form-check form-check-inline">
                    <input asp-for="IsFree" class="form-check-input" type="checkbox" id="inlineCheckbox">
                    <label asp-for="IsFree" class="form-check-label">Free courses</label>
                </div>
            </div>
            <hr />
            <div>
                <h5>Language</h5>
                <select asp-for="LanguageId" asp-items="@Model.Languages" class="form-select">
                    <option disabled selected>Select language</option>
                </select>
                <span class="text-danger"></span>
            </div>
            <hr />
            <div>
                <h5>Category</h5>
                <select asp-for="CategoryId" asp-items="@Model.Categories" class="form-select">
                    <option disabled selected>Select category</option>
                </select>
                <span class="text-danger"></span>
            </div>
            <hr />
            <div>
                <h5>Difficulty</h5>
                <select asp-for="Difficulty" asp-items="@Model.Difficulties" class="form-select">
                    <option disabled selected>Select difficulty</option>
                </select>
                <span class="text-danger"></span>
            </div>
            <hr />
            <button class="btn btn-outline-success col-6" type="submit">Search</button>
        </form>
    </div>
    <div class="courses">

        @foreach (var course in Model.Courses)
        {
            <div class="course-element">
                <img src="@course.MainImageUrl"/>

                <div class="title">Title: @course.Title</div>
                @if (course.Price == 0)
                {
                    <p class="price">Free</p>

                }
                else
                {
                    <div class="price">Price: @($"{course.Price:f2}")</div>
                }

                <div class="difficulty">Difficulty: @course.Difficulty</div>
            </div>
        }
    </div>
</div>

@section Scripts {
    <script type="module" src="/js/filter.js" asp-append-version="false"></script>
}